---
layout: post
title: "DsmMarket - 8"
subtitle: "이미지 api 페기"
categories: project
tag: dsmmarket
comments: true
---

**유해이미지 분류 api**

colab으로 많은 epoch를 학습시키고 작은 loss(0.3e-12 정도)를 얻었지만, 좋지 못한 결과를 얻었다. bounding box가 한 구석으로 몰려있으며, 물체를 검출하지 못하는 현상을 보였다. 더 이상 학습시켜도 의미가 없을 것이라 생각해 api는 폐기를 결정했다. 추후 시간이 남을 때 다시 생각해볼 문제이다.

**TensorRec**

TensorRec으로 추천 api v2를 만들었다. 기본 원리가 유저와 상품을 군집화해서 추천하는 것이라 따로 데이터를 받을 필요가 없어지고, 오직 log만 중요해졌다. 

크게 달라진 점이라고는 MySQL에 직접 접속해 데이터를 받는다는 점과, 실시간 학습이 아닌 일간 학습을 사용한다는 것이다.

이미 다 완성한 상태라 쓸 내용이 별로 없다.

더미 데이터를 넣었다던가.. coo matrix를 사용했다던가.. 

일단 이번 api를 만들고 나자 저번 api가 매우 더러워 보이기 시작했다. 고칠 점도 많아 보여 야예 삭제해버렸다.  옛날의 내 코드가 끔찍해 보인다면 내가 그 사이에 성장한 증거라 할 수 있다.

다만 모델을 내가 직접 작성한 것이 아닌 라이브러리를 사용한 것이라 아쉬움이 크게 남는다. 이는 TensorRec을 직접 뜯어보는 것으로 풀어야겠다.

---

어쨌든 추천 api는 끝났다. 서버는 라즈베리 파이가 아닌 ngrok에 올렸다. 남은 것은 곧 끝난 프로젝트에서 데이터 분석을 하는 것이다. google analytics 경험을 더 쌓을 기회가 될 것이다.