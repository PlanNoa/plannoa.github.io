---
layout: post
title: "DsmMarket - 5"
subtitle: "유해이미지 분류"
categories: project
tag: dsmmarket
comments: true
---

**추천 api 끝**

추천 api의 개발이 얼추 끝났다. 이제 서버, 프론트 쪽에서 개발이 끝나고 최종 테스트만 하면 된다. 계획대로라면 이 일이 지금보다 더 늦게 끝나고, 다른 사람들같이 개발에 매진하고 있어야 하는데, 너무 일찍 끝났다. 데이터가 없다는 점과 카테고리로 학습한다는 것의 단순함을 고려하지 못한 내 잘못이다. 

**내가 할 것**

'계획대로'라면 내가 이제 해야 할 것은 프로젝트가 끝나고 학생들이 사이트를 이용하는 것을 분석하고, A/B 테스트를 진행하는 것이다. 다만 프로젝트가 끝나기까지는 1달쯤 걸릴 것 같으니, 그 사이에 다른 api를 만들기로 했다. 어차피 경험 상, 회사에서 많이 쓸 것 같은 기술을 사용해 보는 것이니 괜찮을 거라고 생각한다.

내가 만들 api는 유해 이미지 필터링이다. 우리의 DsmMarket을 사용할 층은 무조건 학생밖에 없기 때문에 담배나 술 같은 이미지는 올라와서는 안 된다. 게시물을 올릴 때 사진에서 담배나 술을 발견하면 사진이 유해하다며 올라가지 못하게 할 것이다.

**유해 이미지**

유해 이미지라고 한다면, 무엇이 있을까. 광범위하게는 상처, 시체같은 고어한 이미지도 있지만 다행히 우리의 DsmMarket은 교내에서 서로간 물건을 거래하는 프로그램이다. 고어 이미지가 올라올 일이 없을 것이다. 물건 사진에서 유해한 것이라고 보면 아마 담배, 술같은 것이라고 생각한다. 목록을 정리해보자.

- 담배
- 술
- 칼

일단 이 세 가지가 전부다. 내 머리로는 다른 물건이 떠오르지 않는다. 

특정 물건의 모양을 학습하려면 그 물건에 대한 이미지가 대량으로 있어야 한다. kaggle에서 강아지와 고양이를 분류하는 competition [Dogs vs. Cats](https://www.kaggle.com/c/dogs-vs-cats)의 경우에는 train 이미지만 25000장이 있다. imgaug을 사용하면 60장 넘게 불릴 수 있는데, 그걸 감안해도 정확도를 위해서는 한참 모아야 한다. 연필 사진을 올렸는데 담배로 분류되는 일이 있으면 안되니까.

당장 뭘 해야 할 지 모르겠으니, 예제 or 논문을 먼저 찾아보자.